"use strict";(()=>{var e={};e.id=668,e.ids=[668],e.modules={11185:e=>{e.exports=require("mongoose")},20399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},30517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},50836:(e,t,n)=>{n.r(t),n.d(t,{originalPathname:()=>f,patchFetch:()=>h,requestAsyncStorage:()=>u,routeModule:()=>m,serverHooks:()=>S,staticGenerationAsyncStorage:()=>c});var a={};n.r(a),n.d(a,{GET:()=>g,PATCH:()=>p});var o=n(49303),r=n(88716),i=n(60670),s=n(87070),l=n(16385),d=n(16314);async function g(){try{await (0,l.Z)();let e=await d.XD.findOne();if(!e)return s.NextResponse.json({name:"Animal Welfare NGO",logo:"/images/logo.png",address:"123 Main Street, City, Country",phone:"+1234567890",email:"contact@example.org",colors:{main:"#4CAF50",base:"#FFFFFF",secondary:"#2196F3"},social_media:{facebook:"https://facebook.com/example",twitter:"https://twitter.com/example"}});return s.NextResponse.json(e)}catch(e){return console.error("Failed to fetch NGO settings:",e),s.NextResponse.json({error:"Failed to fetch NGO settings"},{status:500})}}async function p(e){try{let t=await e.json();await (0,l.Z)();let n=await d.XD.findOne();return n?["name","logo","address","phone","email","colors","social_media"].forEach(e=>{void 0!==t[e]&&(n[e]=t[e])}):n=new d.XD(t),await n.save(),s.NextResponse.json(n)}catch(e){return console.error("Failed to update NGO settings:",e),s.NextResponse.json({error:"Failed to update NGO settings"},{status:500})}}let m=new o.AppRouteRouteModule({definition:{kind:r.x.APP_ROUTE,page:"/api/settings/route",pathname:"/api/settings",filename:"route",bundlePath:"app/api/settings/route"},resolvedPagePath:"/Users/anand.social/Documents/Donation/animal-welfare-ngo/src/app/api/settings/route.js",nextConfigOutput:"",userland:a}),{requestAsyncStorage:u,staticGenerationAsyncStorage:c,serverHooks:S}=m,f="/api/settings/route";function h(){return(0,i.patchFetch)({serverHooks:S,staticGenerationAsyncStorage:c})}},16385:(e,t,n)=>{n.d(t,{Z:()=>s});var a=n(11185),o=n.n(a);let r=process.env.MONGO_URI;if(!r)throw Error("Please define the MONGO_URI environment variable");let i=global.mongoose;i||(i=global.mongoose={conn:null,promise:null});let s=async function(){return i.conn||(i.promise||(i.promise=o().connect(r,{bufferCommands:!1}).then(e=>(console.log("Connected to MongoDB"),e))),i.conn=await i.promise),i.conn}},16314:(e,t,n)=>{n.d(t,{SO:()=>f,XD:()=>u,n5:()=>h,t6:()=>S,y:()=>c});var a=n(11185),o=n.n(a);let r=new(o()).Schema({name:String,logo:String,address:String,phone:String,email:String,colors:{main:String,base:String,secondary:String},social_media:{facebook:String,twitter:String,instagram:String}}),i=new(o()).Schema({donor_name:String,donor_phone:String,amount:Number,reference_id:String,status:{type:String,enum:["pending","verified","cancelled"],default:"pending"},admin_notes:String,created_at:{type:Date,default:Date.now},verified_at:Date}),s=new(o()).Schema({app_name:String,upi_id:String,display_name:String,qr_code:String,active:{type:Boolean,default:!0},app_logo:String,app_color:String,display_order:Number}),l=new(o()).Schema({slug:{type:String,unique:!0},title:String,content:String,updated_at:{type:Date,default:Date.now}}),d=new(o()).Schema({title:String,description:String,slug:{type:String,unique:!0},image:String,show_in_menu:{type:Boolean,default:!0}}),g=new(o()).Schema({title:String,slug:{type:String,unique:!0},content:String,featured_image:String,author:String,published_at:{type:Date,default:Date.now},tags:[String],is_published:{type:Boolean,default:!1}}),p=new(o()).Schema({filename:String,original_filename:String,path:String,type:String,size:Number,service_id:{type:o().Schema.Types.ObjectId,ref:"Service"},uploaded_at:{type:Date,default:Date.now}}),m=new(o()).Schema({email:{type:String,unique:!0,required:!0},password:{type:String,required:!0},name:String,role:{type:String,enum:["admin"],default:"admin"},created_at:{type:Date,default:Date.now}}),u=o().models.NGOSettings||o().model("NGOSettings",r);o().models.Donation||o().model("Donation",i);let c=o().models.UPIDetail||o().model("UPIDetail",s);o().models.Page||o().model("Page",l);let S=o().models.Service||o().model("Service",d),f=o().models.Post||o().model("Post",g);o().models.Media||o().model("Media",p);let h=o().models.User||o().model("User",m)}};var t=require("../../../webpack-runtime.js");t.C(e);var n=e=>t(t.s=e),a=t.X(0,[276,972],()=>n(50836));module.exports=a})();