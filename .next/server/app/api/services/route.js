"use strict";(()=>{var e={};e.id=84,e.ids=[84],e.modules={11185:e=>{e.exports=require("mongoose")},20399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},30517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},66037:(e,t,n)=>{n.r(t),n.d(t,{originalPathname:()=>f,patchFetch:()=>h,requestAsyncStorage:()=>p,routeModule:()=>g,serverHooks:()=>S,staticGenerationAsyncStorage:()=>m});var r={};n.r(r),n.d(r,{GET:()=>u,POST:()=>c});var i=n(49303),a=n(88716),o=n(60670),s=n(87070),l=n(16385),d=n(16314);async function u(e){try{let{searchParams:t}=new URL(e.url),n="true"===t.get("menu");await (0,l.Z)();let r={};n&&(r={show_in_menu:!0});let i=await d.t6.find(r).sort({title:1});return s.NextResponse.json(i)}catch(e){return console.error("Failed to fetch services:",e),s.NextResponse.json({error:"Failed to fetch services"},{status:500})}}async function c(e){try{let t=await e.json();await (0,l.Z)(),!t.slug&&t.title&&(t.slug=t.title.toLowerCase().replace(/[^\w\s-]/g,"").replace(/\s+/g,"-"));let n=new d.t6(t);return await n.save(),s.NextResponse.json(n,{status:201})}catch(e){return console.error("Failed to create service:",e),s.NextResponse.json({error:"Failed to create service"},{status:500})}}let g=new i.AppRouteRouteModule({definition:{kind:a.x.APP_ROUTE,page:"/api/services/route",pathname:"/api/services",filename:"route",bundlePath:"app/api/services/route"},resolvedPagePath:"/Users/anand.social/Documents/Donation/animal-welfare-ngo/src/app/api/services/route.js",nextConfigOutput:"",userland:r}),{requestAsyncStorage:p,staticGenerationAsyncStorage:m,serverHooks:S}=g,f="/api/services/route";function h(){return(0,o.patchFetch)({serverHooks:S,staticGenerationAsyncStorage:m})}},16385:(e,t,n)=>{n.d(t,{Z:()=>s});var r=n(11185),i=n.n(r);let a=process.env.MONGO_URI;if(!a)throw Error("Please define the MONGO_URI environment variable");let o=global.mongoose;o||(o=global.mongoose={conn:null,promise:null});let s=async function(){return o.conn||(o.promise||(o.promise=i().connect(a,{bufferCommands:!1}).then(e=>(console.log("Connected to MongoDB"),e))),o.conn=await o.promise),o.conn}},16314:(e,t,n)=>{n.d(t,{SO:()=>f,XD:()=>p,n5:()=>h,t6:()=>S,y:()=>m});var r=n(11185),i=n.n(r);let a=new(i()).Schema({name:String,logo:String,address:String,phone:String,email:String,colors:{main:String,base:String,secondary:String},social_media:{facebook:String,twitter:String,instagram:String}}),o=new(i()).Schema({donor_name:String,donor_phone:String,amount:Number,reference_id:String,status:{type:String,enum:["pending","verified","cancelled"],default:"pending"},admin_notes:String,created_at:{type:Date,default:Date.now},verified_at:Date}),s=new(i()).Schema({app_name:String,upi_id:String,display_name:String,qr_code:String,active:{type:Boolean,default:!0},app_logo:String,app_color:String,display_order:Number}),l=new(i()).Schema({slug:{type:String,unique:!0},title:String,content:String,updated_at:{type:Date,default:Date.now}}),d=new(i()).Schema({title:String,description:String,slug:{type:String,unique:!0},image:String,show_in_menu:{type:Boolean,default:!0}}),u=new(i()).Schema({title:String,slug:{type:String,unique:!0},content:String,featured_image:String,author:String,published_at:{type:Date,default:Date.now},tags:[String],is_published:{type:Boolean,default:!1}}),c=new(i()).Schema({filename:String,original_filename:String,path:String,type:String,size:Number,service_id:{type:i().Schema.Types.ObjectId,ref:"Service"},uploaded_at:{type:Date,default:Date.now}}),g=new(i()).Schema({email:{type:String,unique:!0,required:!0},password:{type:String,required:!0},name:String,role:{type:String,enum:["admin"],default:"admin"},created_at:{type:Date,default:Date.now}}),p=i().models.NGOSettings||i().model("NGOSettings",a);i().models.Donation||i().model("Donation",o);let m=i().models.UPIDetail||i().model("UPIDetail",s);i().models.Page||i().model("Page",l);let S=i().models.Service||i().model("Service",d),f=i().models.Post||i().model("Post",u);i().models.Media||i().model("Media",c);let h=i().models.User||i().model("User",g)}};var t=require("../../../webpack-runtime.js");t.C(e);var n=e=>t(t.s=e),r=t.X(0,[276,972],()=>n(66037));module.exports=r})();